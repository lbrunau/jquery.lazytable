!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);e(2),e(1);function o(t,n){this.generatorFunction=t,this.rows=n,this.current=0}function r(t){const n=this,e=this.find("table"),r=this.find("table tbody"),i={debug:!1,trHeight:0,data:[],generator:function(t){return"<tr><td>"+t.join("</td><td>")+"</td></tr>"},startIndex:0,keepExisting:!0,prefetch:0,animationCalcTime:3,appendFn:function(t){r.append(t.join())},prependFn:function(t){r.prepend(t.join())},deleteFn:function(t,n){r.children().slice(t,n).remove()},onInit:null,onRedraw:null},a=$.extend({},i,t);var u=new o(a.generator,a.data);u.setCurrent(a.startIndex);var s=u.clone(),c=(a.startIndex,a.startIndex,!1),h=!1,l=!1;const f=function(){return new Promise((t,n)=>{var e=1;const o=function(){const i=r.children();i.length>0?window.setTimeout(function(){t(i.get(0))},16):e++<10?window.setTimeout(o,100):n()};o()})},m=function(t,n,e){return new Promise((o,r)=>{const i=function(r){const u=[];for(;n()&&window.performance.now()-r<a.animationCalcTime;)u.push(t());u.length>0&&e(u),n()?window.requestAnimationFrame(i):o(u)};window.requestAnimationFrame(i)})},g=function(){const t=n.scrollTop(),e={top:Math.max(Math.floor(t/a.trHeight)-a.prefetch,0),bottom:Math.min(Math.ceil((t+n.innerHeight())/a.trHeight)+a.prefetch,a.data.length-1)};return e.center=Math.min(Math.floor((e.bottom+e.top)/2),a.data.length-1),e},p=function(){const t={top:s.getCurrent(),bottom:u.getCurrent()};return t.center=Math.min(Math.floor((t.bottom+t.top)/2),a.data.length-1),t},d=function(){const t=g(),n=p();var o=[];return t.top>n.bottom||t.bottom<n.top?l||(l=!0,o.push(y(t.center).then(()=>l=!1).then(d))):(t.bottom>=n.bottom&&o.push(m(()=>u.next(),()=>!l&&u.hasNext()&&u.getCurrent()<=t.bottom,t=>{a.appendFn(t),e.css({"margin-bottom":(a.data.length-u.getCurrent())*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] bot +"+t.length+" rows")})),t.top<n.top&&o.push(m(()=>s.prev(),()=>!l&&s.hasPrev()&&s.getCurrent()>t.top,t=>{a.prependFn(t.reverse()),e.css({"margin-top":s.getCurrent()*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] top +"+t.length+" rows")}))),Promise.all(o).then(function(){if(a.keepExisting||function(){const t=p(),n=g();n.bottom<t.bottom&&(u.setCurrent(n.bottom),a.deleteFn(n.bottom-t.bottom),e.css({"margin-bottom":(a.data.length-n.bottom)*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] bot -"+(t.bottom-n.bottom)+" rows")),n.top>t.top&&(s.setCurrent(n.top),a.deleteFn(0,n.top-t.top),e.css({"margin-top":n.top*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] top -"+(n.top-t.top)+" rows"))}(),a.debug){const t=u.getCurrent()-s.getCurrent(),n=e.css("margin-top"),o=parseInt(n.substr(0,n.length-2)),r=e.css("margin-bottom"),i=parseInt(r.substr(0,r.length-2));console.log("[jQuery.Lazytable] nVisible: "+t),console.assert(o+i==(a.data.length-t)*a.trHeight,{message:"margin claculation wrong",nTotal:a.data.length,nVisible:t,top:o,bottom:i,trHeight:a.trHeight})}"function"==typeof a.onRedraw&&a.onRedraw()})},w=function(t){return new Promise((e,o)=>{const r=Math.min(Math.max(t*a.trHeight-(n.innerHeight()-a.trHeight)/2,0),n.prop("scrollHeight"));n.scrollTop(r),window.setTimeout(e,16)})},b=function(t){const e=p();return h=t,e.top<=t&&t<e.bottom?new Promise((e,o)=>{const r=t*a.trHeight,i=n.scrollTop(),u=n.innerHeight();var s=-1;r+a.trHeight>i+u?s=Math.max(0,r-(u-a.trHeight)):r<i&&(s=r),s>=0&&n.scrollTop(s),window.setTimeout(e,16)}):y(t)},y=function(t){return x(t,!1).then(function(){return w(t)}).then(d)},x=function(t,n){return new Promise((o,r)=>{const i=function(){const n=t*a.trHeight,r=a.trHeight*a.data.length-n-a.trHeight;e.css({"margin-bottom":r,"margin-top":n}),o()};a.deleteFn(0),u.setCurrent(t),s.setCurrent(t),u.hasNext()?(a.appendFn([u.next()]),n?f().then(function(t){const n=window.getComputedStyle(t).getPropertyValue("height").match(/([\.\d]+)px/);a.trHeight=n?parseFloat(n[1]):t.offsetHeight}).then(i):i()):i()})};return n.off("scroll"),n.off("lazytable:focus"),n.off("lazytable:resize"),n.css({"overflow-y":"hidden"}),x(a.startIndex,!0).then(function(){return h=a.startIndex,w(a.startIndex)}).then(d).then(function(){n.css({"overflow-y":"scroll"}),"function"==typeof a.onInit&&a.onInit(),n.on("scroll",function(){d()}),n.on("lazytable:focus",function(t,n,e){b(n).then(function(){"function"==typeof e&&e()})}),n.on("lazytable:resize",function(){c||(c=!0,f().then(t=>{var n;const e=(n=window.getComputedStyle(t).getPropertyValue("height").match(/([\.\d]+)px/))?parseFloat(n[1]):t.offsetHeight;if(e>0&&e!=a.trHeight){a.trHeight=e;const t=h||Math.min(Math.floor((s.getCurrent()+u.getCurrent())/2),a.data.length-1);return y(t)}if(h)return b(h)}).then(d).finally(function(){c=!1}))})}),this}o.prototype.clone=function(){var t=new o(this.generatorFunction);return t.rows=this.rows,t.current=this.current,t},o.prototype.getCurrent=function(){return this.current},o.prototype.setCurrent=function(t){t>=0&&t<this.rows.length&&(this.current=t)},o.prototype.next=function(){return this.generatorFunction(this.rows[this.current++])},o.prototype.hasNext=function(){return this.current<this.rows.length},o.prototype.prev=function(){return this.generatorFunction(this.rows[--this.current])},o.prototype.hasPrev=function(){return this.current>0},jQuery.fn.LazyTable=r},function(t,n){!function(t){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}()},function(t,n){!function(t){for(var n=0,e=["ms","moz","webkit","o"],o=0;o<e.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[e[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[o]+"CancelAnimationFrame"]||window[e[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),i=window.setTimeout(function(){t(o+r)},r);return n=o+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}]);