!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(2),n(1);function r(e,t){this.generatorFunction=e,this.rows=t,this.current=0}function o(e){const t=this,n=this.find("table"),o=this.find("table tbody"),i={debug:!1,trHeight:0,data:[],generator:function(e){return"<tr><td>"+e.join("</td><td>")+"</td></tr>"},startIndex:0,keepExisting:!0,prefetch:0,animationCalcTime:3,appendFn:function(e){return o.append(e.join()),$.Deferred().resolve().promise()},prependFn:function(e){return o.prepend(e.join()),$.Deferred().resolve().promise()},deleteFn:function(e,t){return o.children().slice(e,t).remove(),$.Deferred().resolve().promise()},onInit:null,onRedraw:null},a=$.extend({},i,e);var s=new r(a.generator,a.data);s.setCurrent(a.startIndex);var u=s.clone(),c=a.startIndex,l=a.startIndex,f=!1,h=!1,g=!1,d=!1;const m=function(){var e=1;const t=$.Deferred(),n=function(){const r=o.children();r.length>0?window.setTimeout(function(){t.resolve(r.get(0))},16):e++<10?window.setTimeout(n,100):t.reject()};return n(),t.promise()},p=function(){const e=$.Deferred(),r=function(){if(a.keepExisting||function(){const e=t.scrollTop(),r=u.getCurrent(),o=s.getCurrent(),i=Math.min(Math.ceil((e+t.innerHeight())/a.trHeight)+a.prefetch,a.data.length),c=Math.max(Math.floor(e/a.trHeight)-a.prefetch,0);!h&&i<o&&(s.setCurrent(i),a.deleteFn(i-o),n.css({"margin-bottom":(a.data.length-i)*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] bot -"+(o-i)+" rows")),!f&&c>r&&(u.setCurrent(c),a.deleteFn(0,c-r),n.css({"margin-top":c*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] top -"+(c-r)+" rows"))}(),a.debug){const e=s.getCurrent()-u.getCurrent(),t=n.css("margin-top"),r=parseInt(t.substr(0,t.length-2)),o=n.css("margin-bottom"),i=parseInt(o.substr(0,o.length-2));console.log("[jQuery.Lazytable] nVisible: "+e),console.assert(r+i==(a.data.length-e)*a.trHeight,{message:"margin claculation wrong",nTotal:a.data.length,nVisible:e,top:r,bottom:i,trHeight:a.trHeight})}"function"==typeof a.onRedraw&&a.onRedraw()},o=t.scrollTop();l=Math.min(Math.ceil((o+t.innerHeight())/a.trHeight)+a.prefetch,a.data.length-1),c=Math.max(Math.floor(o/a.trHeight)-a.prefetch,0);var i=[];if(!h&&l>=s.getCurrent()){var g=$.Deferred();h=!0,function(){const e=$.Deferred(),t=function(r){for(var o=[],i=0;s.hasNext()&&s.getCurrent()<=l&&window.performance.now()-r<a.animationCalcTime;)o.push(s.next()),i++;o.length>0&&(a.appendFn(o),n.css({"margin-bottom":(a.data.length-s.getCurrent())*a.trHeight})),a.debug&&console.log("[jQuery.Lazytable] bot +"+i+" rows"),s.getCurrent()<=l?window.requestAnimationFrame(t):e.resolve()};return window.requestAnimationFrame(t),e.promise()}().done(function(){r(),h=!1,g.resolve()}),i.push(g)}if(!f&&c<u.getCurrent()){var d=$.Deferred();f=!0,function(){const e=$.Deferred(),t=function(r){for(var o=[],i=0;u.hasPrev()&&u.getCurrent()>c&&window.performance.now()-r<a.animationCalcTime;)o.unshift(u.prev()),i++;o.length>0&&(a.prependFn(o),n.css({"margin-top":u.getCurrent()*a.trHeight})),a.debug&&console.log("[jQuery.Lazytable] top +"+i+" rows"),u.getCurrent()>c?window.requestAnimationFrame(t):e.resolve()};return window.requestAnimationFrame(t),e.promise()}().done(function(){r(),f=!1,d.resolve()}),i.push(d)}return $.when(i).done(function(){e.resolve()}),e.promise()},w=function(e){const n=$.Deferred(),r=Math.min(Math.max(e*a.trHeight-(t.innerHeight()-a.trHeight)/2,0),t.prop("scrollHeight"));return t.scrollTop(r),window.setTimeout(function(){n.resolve()},16),n.promise()},v=function(e){const n=$.Deferred(),r=u.getCurrent(),o=s.getCurrent();if(r<=e&&e<o){const r=e*a.trHeight,o=t.scrollTop(),s=t.innerHeight();var i=-1;r+a.trHeight>o+s?i=Math.max(0,r-(s-a.trHeight)):r<o&&(i=r),i>=0&&t.scrollTop(i),window.setTimeout(function(){n.resolve()},16)}else y(e,!1).then(function(){return w(e)}).then(p).always(function(){n.resolve()});return d=e,n.promise()},y=function(e,t){const r=$.Deferred(),o=function(){const t=e*a.trHeight,o=a.trHeight*a.data.length-t-a.trHeight;n.css({"margin-bottom":o,"margin-top":t}),r.resolve()};return a.deleteFn(0),s.setCurrent(e),u.setCurrent(e),s.hasNext()?a.appendFn([s.next()]).then(function(){t?m().done(function(e){const t=window.getComputedStyle(e).getPropertyValue("height").match(/([\.\d]+)px/);a.trHeight=t?parseFloat(t[1]):e.offsetHeight}).always(o):o()}):o(),r.promise()};return t.off("scroll"),t.off("lazytable:focus"),t.off("lazytable:resize"),t.css({"overflow-y":"hidden"}),y(a.startIndex,!0).then(function(){return d=a.startIndex,w(a.startIndex)}).then(p).always(function(){t.css({"overflow-y":"scroll"}),"function"==typeof a.onInit&&a.onInit(),t.on("scroll",function(){p()}),t.on("lazytable:focus",function(e,t,n){v(t).done(function(){"function"==typeof n&&n()})}),t.on("lazytable:resize",function(){g||(g=!0,function(){const e=$.Deferred();return m().done(function(t){var n;const r=(n=window.getComputedStyle(t).getPropertyValue("height").match(/([\.\d]+)px/))?parseFloat(n[1]):t.offsetHeight;if(r>0&&r!=a.trHeight){a.trHeight=r;const t=d||Math.min(Math.floor((u.getCurrent()+s.getCurrent())/2),a.data.length-1);y(t,!1).then(function(){return w(t)}).always(function(){e.resolve()})}else d?v(d).always(function(){e.resolve()}):e.resolve()}).fail(function(){e.reject()}),e.promise()}().then(p).always(function(){g=!1}))})}),this}r.prototype.clone=function(){var e=new r(this.generatorFunction);return e.rows=this.rows,e.current=this.current,e},r.prototype.getCurrent=function(){return this.current},r.prototype.setCurrent=function(e){e>=0&&e<this.rows.length&&(this.current=e)},r.prototype.next=function(){return this.generatorFunction(this.rows[this.current++])},r.prototype.hasNext=function(){return this.current<this.rows.length},r.prototype.prev=function(){return this.generatorFunction(this.rows[--this.current])},r.prototype.hasPrev=function(){return this.current>0},jQuery.fn.LazyTable=o},function(e,t){!function(e){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},function(e,t){!function(e){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),i=window.setTimeout(function(){e(r+o)},o);return t=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()}]);