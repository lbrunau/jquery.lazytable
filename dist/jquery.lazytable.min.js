!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(2),n(1);function r(t,e){this.generatorFunction=t,this.rows=e,this.current=0}function o(t){const e=this,n=this.find("table"),o=this.find("table tbody"),i={debug:!1,trHeight:0,data:[],generator:function(t){return"<tr><td>"+t.join("</td><td>")+"</td></tr>"},startIndex:0,keepExisting:!0,prefetch:0,animationCalcTime:3,appendFn:function(t){return o.append(t.join()),$.Deferred().resolve().promise()},prependFn:function(t){return o.prepend(t.join()),$.Deferred().resolve().promise()},deleteFn:function(t,e){return o.children().slice(t,e).remove(),$.Deferred().resolve().promise()},onInit:null,onRedraw:null},a=$.extend({},i,t);var u=new r(a.generator,a.data);u.setCurrent(a.startIndex);var s=u.clone(),c=a.startIndex,f=a.startIndex,l=!1,h=!1,g=!1,m=!1;const d=function(){var t=1;const e=$.Deferred(),n=function(){const r=o.children();r.length>0?window.setTimeout(function(){e.resolve(r.get(0))},16):t++<10?window.setTimeout(n,100):e.reject()};return n(),e.promise()},p=function(){const t={top:s.getCurrent(),bottom:u.getCurrent()};return t.center=Math.min(Math.floor(t.bottom+t.top/2),a.data.length-1),t},w=function(){const t=function(){const t=e.scrollTop(),n={top:Math.max(Math.floor(t/a.trHeight)-a.prefetch,0),bottom:Math.min(Math.ceil((t+e.innerHeight())/a.trHeight)+a.prefetch,a.data.length-1)};return n.center=Math.min(Math.floor(n.bottom+n.top/2),a.data.length-1),n}(),r=p(),o=function(){if(a.keepExisting||function(){const t=e.scrollTop(),r=s.getCurrent(),o=u.getCurrent(),i=Math.min(Math.ceil((t+e.innerHeight())/a.trHeight)+a.prefetch,a.data.length),c=Math.max(Math.floor(t/a.trHeight)-a.prefetch,0);!h&&i<o&&(u.setCurrent(i),a.deleteFn(i-o),n.css({"margin-bottom":(a.data.length-i)*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] bot -"+(o-i)+" rows")),!l&&c>r&&(s.setCurrent(c),a.deleteFn(0,c-r),n.css({"margin-top":c*a.trHeight}),a.debug&&console.log("[jQuery.Lazytable] top -"+(c-r)+" rows"))}(),a.debug){const t=u.getCurrent()-s.getCurrent(),e=n.css("margin-top"),r=parseInt(e.substr(0,e.length-2)),o=n.css("margin-bottom"),i=parseInt(o.substr(0,o.length-2));console.log("[jQuery.Lazytable] nVisible: "+t),console.assert(r+i==(a.data.length-t)*a.trHeight,{message:"margin claculation wrong",nTotal:a.data.length,nVisible:t,top:r,bottom:i,trHeight:a.trHeight})}"function"==typeof a.onRedraw&&a.onRedraw()};f=t.bottom,c=t.top;var i=[];if(!h&&t.bottom>=r.bottom){var g=$.Deferred();h=!0,function(){const t=$.Deferred(),e=function(r){for(var o=[],i=0;u.hasNext()&&u.getCurrent()<=f&&window.performance.now()-r<a.animationCalcTime;)o.push(u.next()),i++;o.length>0&&(a.appendFn(o),n.css({"margin-bottom":(a.data.length-u.getCurrent())*a.trHeight})),a.debug&&console.log("[jQuery.Lazytable] bot +"+i+" rows"),u.getCurrent()<=f?window.requestAnimationFrame(e):t.resolve()};return window.requestAnimationFrame(e),t.promise()}().done(function(){o(),h=!1,g.resolve()}),i.push(g)}if(!l&&t.top<r.top){var m=$.Deferred();l=!0,function(){const t=$.Deferred(),e=function(r){for(var o=[],i=0;s.hasPrev()&&s.getCurrent()>c&&window.performance.now()-r<a.animationCalcTime;)o.unshift(s.prev()),i++;o.length>0&&(a.prependFn(o),n.css({"margin-top":s.getCurrent()*a.trHeight})),a.debug&&console.log("[jQuery.Lazytable] top +"+i+" rows"),s.getCurrent()>c?window.requestAnimationFrame(e):t.resolve()};return window.requestAnimationFrame(e),t.promise()}().done(function(){o(),l=!1,m.resolve()}),i.push(m)}return $.when(i).then(o)},b=function(t){const n=$.Deferred(),r=Math.min(Math.max(t*a.trHeight-(e.innerHeight()-a.trHeight)/2,0),e.prop("scrollHeight"));return e.scrollTop(r),window.setTimeout(function(){n.resolve()},16),n.promise()},y=function(t){const n=p();if(m=t,n.top<=t&&t<n.bottom){const n=$.Deferred(),o=t*a.trHeight,i=e.scrollTop(),u=e.innerHeight();var r=-1;return o+a.trHeight>i+u?r=Math.max(0,o-(u-a.trHeight)):o<i&&(r=o),r>=0&&e.scrollTop(r),window.setTimeout(function(){n.resolve()},16),n.promise()}return v(t)},v=function(t){return H(t,!1).then(function(){return b(t)}).then(w)},H=function(t,e){const r=$.Deferred(),o=function(){const e=t*a.trHeight,o=a.trHeight*a.data.length-e-a.trHeight;n.css({"margin-bottom":o,"margin-top":e}),r.resolve()};return a.deleteFn(0),u.setCurrent(t),s.setCurrent(t),u.hasNext()?a.appendFn([u.next()]).then(function(){e?d().done(function(t){const e=window.getComputedStyle(t).getPropertyValue("height").match(/([\.\d]+)px/);a.trHeight=e?parseFloat(e[1]):t.offsetHeight}).always(o):o()}):o(),r.promise()};return e.off("scroll"),e.off("lazytable:focus"),e.off("lazytable:resize"),e.css({"overflow-y":"hidden"}),H(a.startIndex,!0).then(function(){return m=a.startIndex,b(a.startIndex)}).then(w).always(function(){e.css({"overflow-y":"scroll"}),"function"==typeof a.onInit&&a.onInit(),e.on("scroll",function(){w()}),e.on("lazytable:focus",function(t,e,n){y(e).done(function(){"function"==typeof n&&n()})}),e.on("lazytable:resize",function(){g||(g=!0,function(){const t=$.Deferred();return d().done(function(t){var e;const n=(e=window.getComputedStyle(t).getPropertyValue("height").match(/([\.\d]+)px/))?parseFloat(e[1]):t.offsetHeight;if(n>0&&n!=a.trHeight){a.trHeight=n;const t=m||Math.min(Math.floor((s.getCurrent()+u.getCurrent())/2),a.data.length-1);return v(t)}if(m)return y(m)}),t.promise()}().then(w).always(function(){g=!1}))})}),this}r.prototype.clone=function(){var t=new r(this.generatorFunction);return t.rows=this.rows,t.current=this.current,t},r.prototype.getCurrent=function(){return this.current},r.prototype.setCurrent=function(t){t>=0&&t<this.rows.length&&(this.current=t)},r.prototype.next=function(){return this.generatorFunction(this.rows[this.current++])},r.prototype.hasNext=function(){return this.current<this.rows.length},r.prototype.prev=function(){return this.generatorFunction(this.rows[--this.current])},r.prototype.hasPrev=function(){return this.current>0},jQuery.fn.LazyTable=o},function(t,e){!function(t){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}}()},function(t,e){!function(t){for(var e=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o);return e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()}]);